{-# LANGUAGE PostfixOperators #-}

import XMonad.Hooks.StatusBar.PP (wrap, xmobarAction, xmobarColor, xmobarFont)

import Xmobar 

config :: Config 
config =
  defaultConfig
    { font = concatMap fontWrap
		  [ "xft:SF Mono Nerd Font:pixelsize=14:antialias=true:hinting=true"
	    ]
      , additionalFonts = 
      [ "xft:SF Mono Nerd Font:pixelsize=13:antialias=true:hinting=true"
      , "xft:SF Mono Nerd Font:size=21"
      , "xft:SF Mono Nerd Font:size=14"
			, "xft:SF Mono Nerd Font:size=14"
			, "xft:SF Mono Nerd Font:pixelsize=13:antialias=true:hinting=true"
      ]
			, textOffset = 20
--	  , textOffsets = [20, 21, 20, 21, 20]
      , bgColor = "#282c34"
      , fgColor = "#aab2bf"
			, borderColor = "#544862"
			, border = FullB
      , position = Static { xpos = 15, ypos = 5, width = 1889, height = 32 }
 --    , position = Static { xpos = 0, ypos = 0, width = 1920, height = 32 } 
      , alpha = 255
      , overrideRedirect = False
			, lowerOnStart = True 
      , hideOnStart = False
      , allDesktops = True
      , persistent = True
      , commands = myCommands
--      [ Run Date "  %a %b %d, %-l:%M %p " "date" 50 
--      , Run Network "wlp5s0" ["-t"," <rx> kb   <tx> kb"] 10
--      , Run K10Temp "0000:00:18.3" ["--template", "﨎 <Tdie>ºC"] 10
--      , Run Com "/home/sam/.config/xmonad/xmobar/gputemp.sh" [] "gpu" 10
--      , Run Com "/home/sam/.config/xmonad/xmobar/volume.sh"  [] "volume" 1
--      , Run UnsafeXMonadLog
--      ]
      , sepChar = "%"
      , alignSep = "}{"
      , template ="<fc=#eeeff2,#C678DD:0> \xf30d </fc><fn=2><fc=#C678DD,#282C34:0>\xe0b0</fc></fn>\
                   \<fn=5>%UnsafeXMonadLog%</fn>}{\
                   \<fn=2><fc=#31353f,#282c34:0>\xe0b2</fc></fn><fc=#e06c75,#31353f:0>%wlp5s0% </fc>\
                   \<fn=2><fc=#393f4a,#31353f:0>\xe0b2</fc></fn><fc=#56b6c2,#393f4a:0>%k10temp% </fc>\
                   \<fn=2><fc=#424855,#393f4a:0>\xe0b2</fc></fn><fc=#c678dd,#424855:0> \xfb19  %gpu% </fc>\
                   \<fn=2><fc=#4a5260,#424855:0>\xe0b2</fc></fn><fc=#98c379,#4a5260:0>%volume% </fc>\
                   \<fn=2><fc=#535b6b,#4a5260:0>\xe0b2</fc></fn><fc=#61AFEF,#535b6b:0>%date% </fc>"
      } -- 

myCommands :: [Runnable]
myCommands = 
	[ Run UnsafeXMonadLog
  , Run $ Date ("#61AFEF" $ xmobarFont 1 "\xf017" <> "%a %b %d, %-l:%M %p ") "date" (30 `seconds`)
  ]

main :: IO ()
main = xmobar config 
